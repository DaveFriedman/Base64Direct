<!DOCTYPE html>
<head>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Base64 Direct <em>Go</em></h1>
    <blockquote>
        Base64 Direct <em>Go</em> is a utility that decodes base64 text to ASCII
        text, assumes the ASCII text is a link, and sends your browser directly
        to that link.<br>
        Use this site by putting the base64 text at the end of this site's url.
        <p></p>
        For example: <code>https://www.google.com</code> in base64 is
        <code>aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbQ==</code>.
        If you put <code>aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbQ==</code> at the end of
        this site's url
        (<code>https://davefriedman.github.io/base64direct/go/</code>), you get
        <code><a href="https://davefriedman.github.io/base64direct/go/aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbQ==">https://davefriedman.github.io/base64direct/go/aHR0cHM6Ly93d3cuZ29vZ2xlLmNvbQ==</a></code><br>
        This will take you to <code>https://www.google.com</code>.
    </blockquote>

    <script>
        url = window.location.href
        // console.log(url);
        domain = "Base64Direct";
        index = url.search(domain);
        // console.log(index);
        str = url.slice(index+domain.length+1);
        // console.log(str);

        function decode(str) {
            const a = [];
            for (let i=0; i<9; i++) {
                a.push(str);
                try {
                    window.atob(str);
                } catch (e) {
                    return(a);
                }
                str = decodeURIComponent(escape(window.atob(str)));
                console.log(a[i]);
            }
            console.log("Error: No url found in 9 base64 decodings.")
            location.assign(a.pop());
        };

        decode(str);
    </script>
</body>

<footer>
    <a href="index">Base64 Direct</a><br>
    made by <a href="https://DaveFriedman.github.com">Dave</a>
</footer>
</html>
